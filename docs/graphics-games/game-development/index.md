---
title: 使用 Xamarin 进行游戏开发简介
description: 本文档提供使用 Xamarin，游戏开发的高级概述，描述如何进行游戏和技术可与 Xamarin.iOS 和 Xamarin.Android 一起使用的采样。
ms.prod: xamarin
ms.assetid: 0E3CDCD2-FBE4-49F5-A70E-8A7B937BAF1D
author: conceptdev
ms.author: crdun
ms.date: 03/24/2017
ms.openlocfilehash: d6e9fd03025e00da5cff5ed284bdc5f0f268a22b
ms.sourcegitcommit: e268fd44422d0bbc7c944a678e2cc633a0493122
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/25/2018
ms.locfileid: "50122603"
---
# <a name="introduction-to-game-development-with-xamarin"></a>使用 Xamarin 进行游戏开发简介

开发游戏可能会令人兴奋，尤其是考虑它是多么发布你的移动平台上工作。 本文讨论概念，并将帮助您的游戏开发的相关技术创建的游戏，无论你的目标是游戏或只是为了增添些乐趣程序创建高质量 AAA。

本文介绍了以下主题：

- **游戏与非游戏编程概念**– 我们将探讨一些概念，是唯一的游戏开发，或与其他类型的开发共享，但同样要强调此处由于其重要性。
- **游戏开发团队**– 本部分介绍的游戏开发人员团队中的各种角色。
- **创建游戏创意**– 这一部分可以帮助您创建新的游戏创意 – 使新游戏的第一步。
- **游戏开发技术**– 我们此处列出的一些跨平台技术可用，这样可以提高游戏开发人员的工作效率。


# <a name="game-vs-non-game-programming-concepts"></a>游戏 vs。非游戏编程概念

将移动到游戏开发的程序员通常面对新概念和开发模式。 本部分介绍其中一些概念的高级视图。


## <a name="the-game-loop"></a>游戏循环

一局游戏需要常量移动或更改以响应用户交互和自动游戏逻辑在屏幕上发生。 这通过什么通常称为*游戏循环*。 游戏循环是指将某种类型的循环语句 （如 while 循环） 频率非常高，例如 30 或 60 时运行的*每秒帧数*。

下面是一个简单的游戏循环的关系图：

![](images/image1.png "这是一个简单的游戏循环的关系图")

下面我们将讨论的技术将抽象出实际的 while 循环，但尽管这种抽象概念的每个帧更新将会显示。

甚至在最简单的游戏中，代码性能可以优先。 例如： 需 10 毫秒就能执行的函数可能产生重大影响性能的游戏 – 尤其是如果它每帧调用一次以上。 如果每 30 帧上运行您的游戏，第二个则表示每个帧必须按下 33 毫秒执行。 与此相反，此类函数可能甚至不明显如果它仅在响应中的非游戏应用程序的按钮单击中执行。

可能执行的每个帧的逻辑的常见类型包括：

- **读取输入**– 游戏可能需要检查是否用户具有与之交互游戏通过检查输入的硬件，如触摸屏、 键盘、 鼠标或游戏控制器。
- **移动**– 对象从一个位置的移动到另一个通常将非常小金额每一帧的流畅的画面错觉。
- **冲突**– 许多游戏要求频繁测试是否重叠或相交各种对象。 我们将介绍更深入地在本文中后面的部分中的冲突。 可能由专用的物理模拟系统处理移动和冲突。
- **对于特定于游戏的条件检查**– 某些情况下，可以控制的游戏的状态，例如播放机是否已获得足够的点或是否已分配的时间内用光。
- **AI 行为**– 可用于控制播放机中，如的防范对象或椭圆形周围的对手驱动程序的移动 patrolling 不受控制的对象的行为的每个帧逻辑。
- **呈现**– 大多数游戏将更新显示的内容在屏幕上每个帧。 这可能为了响应更改，这会影响上玩游戏 （如字符经过一个级别） 或只需提供视觉效果改进 （如诈骗 snow 或动画的图标）。

请注意上面列出的活动的许多可以将整个应用程序的状态更改而很多非游戏应用程序往往会更改状态以引发的事件的响应。


## <a name="content-loading-and-unloading"></a>内容加载和卸载

具体取决于哪种技术在开发过程中使用，可能需要手动加载和卸载 （或释放） 的内容。 手动加载和卸载的资产可能出于多种原因导致：

 - 资产可能需要很长时间才能加载相对于单个帧的长度。 某些资产可能甚至需要秒钟才能加载，会严重干扰体验，如果加载 mid 游戏玩法。 如果加载时间，尤其是较长 （例如多个第二个或两个） 可能想要显示的动态加载屏幕或进度栏。
 - 资产可能会占用很多 RAM，需要主动管理的加载以适合所提供的游戏的目标平台内容的内容。
 - 游戏可能需要显示更多多，无法在 RAM 中的资产。 "打开世界"比赛通常包括大型环境中的播放机可以无缝导航-这是没有加载屏幕。 在这种情况下可能需要创建自定义系统中的流式处理内容和管理内存使用情况。

自定义文件格式可能需要处理在加载时，需要自定义加载代码。


## <a name="math"></a>数学

许多游戏要求比非游戏应用程序的更高级数学计算。 当然，数学的级别取决于游戏的复杂性。 一般情况下 3D 游戏需要更多数学 2D 比。 幸运的是您始终可以开始使用简单的游戏，并了解意愿。 游戏开发可以了解数学的好办法 ！

如果您熟悉笛卡尔平面 – 使用 X 和 Y 坐标来定位对象 –，则您已充分了解如何开始使用游戏开发。 下面显示了笛卡尔平面与正 Y 指向上方：

![](images/image2.png "这将显示一个笛卡尔平面与正 Y 指向向上")

> [!IMPORTANT]
> 某些引擎/Api 使用其中增加对象的 Y 值将其向下移动，而其他系统使用正 Y 由一个坐标系统的坐标系统。 如果您是系统之间移动，请记住这一点。
三角函数函数 （如正弦和余弦） 常用于 2D 游戏实现任何形式的旋转。



如果您打算使 3D 游戏然后可能将需要熟悉线性代数 （适用于旋转和 3D 空间中的移动），以及一些 （适用于实现加速） 的微积分导数的概念。


## <a name="content-pipelines"></a>内容管道

术语*内容管道*到其最终格式在游戏中使用时是指从其格式 （例如.png 图像文件） 创作时获取文件的过程。 结束格式取决于其上的内容类型正在使用正在用于技术以及其呈现内容。

一些内容管道可能非常快，并且需要任何手动操作。 例如，大多数游戏引擎和 Api 可以加载在其未处理的格式中的.png 文件格式。 另一方面，更复杂的格式 （例如三维模型） 可能需要在正在加载之前要处理为其他格式，并且此处理可能需要一些时间，具体取决于资产的大小和复杂性。


# <a name="game-development-teams"></a>游戏开发团队

游戏开发过程中涉及的个人，引入了新的角色和标题。 大多数游戏开发人员不能满足广泛的需释放一个完整的游戏，因此存在许多学科的技能。 请注意这不是开发-只是一些更常见的问题的区域的完整列表。

- **程序员**– 大多数人阅读这篇文章将属于此类别。 在游戏开发的角色是程序员的类似于在非游戏应用程序中的编程人员的角色。 责任包括编写逻辑来控制游戏时，开发系统的常见任务的上下文中给定的项目，添加和显示内容，以及 – 当然 – 修复 bug 的流。
- **2D 艺术家**– 2D 艺术家负责创建*2D 资产*。 有关游戏的 GUI、 粒子、 环境和字符，其中包括图像文件。 如果你正在开发的游戏是 3D，然后 2D 艺术家可能不需要为环境和字符。 您可以找到免费为您的游戏在画[ http://opengameart.org/ ](http://opengameart.org/) 。
- **3D 艺术家**– 3D 艺术家负责创建*三维资产*。 其中包括有关环境、 字符和属性 （家具、 系统和其他非动画的对象） 的三维模型。 一些团队区分 3D 艺术家和 3D 动画制作人员具体取决于团队的大小。 您可以找到免费为您的游戏在 3D 艺术[ http://opengameart.org/ ](http://opengameart.org/) 。
- **游戏设计器**– 游戏设计人员负责定义播放游戏的方式。 这可能包括高级的决策，例如的设置的游戏、 游戏和播放机如何逐步完成该游戏逐步进展的总体目标。 游戏设计人员也可以是非常详细的决策将输入映射到操作，如中所涉及定义对于移动或级别会、 系数和设计级别的布局。 请记住，术语*设计器*可能指游戏设计器，具体取决于上下文的可视化设计器。
- **听起来设计器**– 声音的设计器负责游戏的音频资产。 一些团队可能会区分个人负责创建声音效果和作曲者，而较小的团队可能有一个人负责所有音频。


# <a name="creating-a-game-idea"></a>创建游戏创意

设计游戏可能会出现能够轻松地执行 – 别忘了唯一的要求并"使一些有趣。" 遗憾的是，许多开发人员发现自己在丢失时创建从中启动开发大致时间。

专业游戏设计未轻松地解释，并且需要提高就像艺术的做法或编程存在，但这一部分可以帮助你开始向路径下。

新的开发人员应首先小。 它可能很难忍不住要重新创建大型、 现代视频游戏时，但较小的游戏可以是更好的学习环境并可使更有成就感体验更快的进度。

许多游戏，同时为了学习以及商业游戏开始时是改进或修改一个现有游戏。 若要生成的想法的一种方法是查找在灵感其他游戏。 例如，可以考虑个人喜欢的游戏，然后重试以了解有关玩游戏哪些特征使充满乐趣。 它可能是探索，精通游戏的机制，或通过一篇文章的进展情况。 别忘了搜索新的想法时，请考虑"复古"游戏数也。

用于生成新的想法的另一种方法是考虑特定流派，如填数游戏的游戏、 策略游戏或 platformers。 一种流派熟悉的开发人员可能会提供很好的起点。

重新塑造现有游戏也是教育的体验，虽然这可能会限制已完成的产品的商业可行性。 创建一个游戏，即使其中一个是一个精确克隆的过程提供有价值的教育体验。


# <a name="game-development-technology"></a>游戏开发技术

使用 Xamarin.Android 和 Xamarin.iOS 开发人员具有各种技术提供给他们的游戏开发帮助。 本部分将介绍一些最受欢迎的跨平台解决方案。


## <a name="cocossharp"></a>CocosSharp

CocosSharp 是科科斯 2D 游戏引擎的开放源代码的跨平台版本。 引擎提供对 Android、 iOS、 Mac OS X、 Windows 桌面、 Windows RT 和 Windows Phone 访问。

CocosSharp 重点介绍 2D 游戏开发简单编程人员 API。 在移动设备上的游戏增长已帮助使 reignite 的 2D 游戏的开发使能够使用 CocosSharp 可行技术的爱好和商业项目等受欢迎程度。 它作为源的代码或.dll 文件 （这可以通过 NuGet 获得） 提供，但它不提供的可视化编辑器;因此，与 CocosSharp 引擎进行任何交互需要编程的知识。

若要开始使用 CocosSharp，请查看我们[CocosSharp 指南](~/graphics-games/cocossharp/index.md)。

游戏因为什么而怒气冲冲 Ninjas 会创建与 cocossharp 结合使用，而且如果您正在寻找多个平台已在运行游戏，可以很好的起点：

![](images/image3.png "游戏因为什么而怒气冲冲 Ninjas 创建与 cocossharp 结合使用")

可以下载它并获取详细信息[AngryNinjas Github 页面](https://github.com/xamarin/AngryNinjas)。


## <a name="monogame"></a>MonoGame

MonoGame 是开源的跨平台版本的 Microsoft XNA API。 可以使用 MonoGame 来制作适用于 iOS、 Android、 Mac OS X、 Linux、 Windows、 Windows RT、 PS4、 PSVita、 Xbox One 和交换机的游戏。

与 CocosSharp，不同 MonoGame 是从技术上讲不的游戏引擎，但而不是游戏开发 API。 这意味着使用 MonoGame 需要直接管理游戏对象、 手动绘制对象，以及实现如照相机的常见对象和*场景图*（父子层次结构之间游戏对象）。 若要帮助了解它们的区别，请考虑 CocosSharp 基于 MonoGame。 MonoGame 通用化某些特定于平台的技术，如图形、 呈现和音频，虽然 CocosSharp 提供了用于组织和实现游戏逻辑的代码。

MonoGame 不提供标准的可视开发环境中，因此使用 MonoGame 需要编程知识。

使用 MonoGame 的游戏的值得注意的示例包括：

FEZ:

![](images/image7.png "FEZ")

堡垒：

![](images/image8.jpg "堡垒")

若要开始使用 MonoGame，请转到我们[MonoGame 指南](~/graphics-games/monogame/index.md)。


## <a name="urhosharp"></a>UrhoSharp

UrhoSharp 是一个跨平台高级 3D 和 2D 引擎，可用于创建应用程序使用几何图形、 材料、 光源和照相机的动画 3D 和 2D 场景。

![](images/urhosharp.gif "UrhoSharp 是一个跨平台高级 3D 和 2D 引擎，可用于创建动画的 3D 和 2D 场景")

请查看[UrhoSharp 指南](~/graphics-games/urhosharp/index.md)若要开始。

## <a name="additional-technology"></a>其他技术

上面突出显示的技术只是一个样本的可用的技术。 值得注意的其他技术包括：

- **Sprite Kit** – Xamarin 提供了对 Apple 的 Sprite Kit 游戏框架，它可以访问所有本机 API 的功能的支持。 由于 Sprite Kit 是由 Apple 创建技术，它提供与 iOS 生态系统的其余部分的深度集成。 当然，Sprite Kit 不是跨平台，因此不能在 Android 上使用它。 使用 Sprite Kit 的详细信息，请参阅此文章：  [http://blog.xamarin.com/make-games-with-xamarin.ios-and-sprite-kit/](http://blog.xamarin.com/make-games-with-xamarin.ios-and-sprite-kit/)
- **Scene Kit** – Xamarin 还提供对 Apple 的 Scene Kit 框架，从而简化了到 iOS 应用程序中实现 3D 图形的支持。 Scene Kit 也是 Apple，因此它具有的集成和特定于平台的注意事项上面提到的 Sprite Kit 提供的技术。 场景工具包的详细信息，请参阅此文章： [http://blog.xamarin.com/3d-in-ios-8-with-scene-kit/](http://blog.xamarin.com/3d-in-ios-8-with-scene-kit/)
- **OpenTK –** OpenTK （它代表打开 Tool Kit） 提供对 iOS、 Apple 和 Mac 的低级别 OpenGL 访问硬件。 OpenTK 的详细信息，请参阅在主页上：  [http://www.opentk.com/](http://www.opentk.com/)


# <a name="summary"></a>总结

本文介绍了游戏开发的主要概念，并提供有关如何开始制作您的首个游戏的信息。 完成本文后下, 一个步骤是选择你的技术，并开始通过我们的系列教程前面的相应章节中链接的工作。

## <a name="related-links"></a>相关链接

- [CocosSharp 指南](~/graphics-games/cocossharp/index.md)
- [MonoGame 指南](~/graphics-games/monogame/index.md)
- [UrhoSharp 指南](~/graphics-games/urhosharp/index.md)
